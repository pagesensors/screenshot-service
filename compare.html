<html>

    <head>
        <script src="https://cdn.knightlab.com/libs/juxtapose/latest/js/juxtapose.min.js"></script>
        <link rel="stylesheet" href="https://cdn.knightlab.com/libs/juxtapose/latest/css/juxtapose.css">
        <style>
            select { width: 100%; margin: 8px }
            #slider { margin: 0 auto;  }

        </style>
    </head>

    <body>
        <select id="image-list"></select>
        <div id="slider"></div>
        <script src="./results.js"></script>
        <script>
            const setImages = (filename) => {
                document.getElementById("slider").remove();
                const div = document.createElement('div');
                div.setAttribute('id', 'slider');
                document.body.appendChild(div);
                slider = new juxtapose.JXSlider('#slider',
                    [
                        {
                            src: window.dirs[0] + '/' + filename,
                            label: window.dirs[0] + '/' + filename,
                        },
                        {
                            src: window.dirs[1] + '/' + filename,
                            label: window.dirs[1] + '/' + filename,
                        }
                    ],
                    {
                        animate: true,
                        showLabels: true,
                        showCredits: true,
                        startingPosition: "50%",
                        makeResponsive: true
                    });
            }
            const list = document.getElementById('image-list');
            window.images.forEach((filename) => {
                const option = document.createElement('option');
                option.innerHTML = filename;
                list.appendChild(option);
            });
            list.addEventListener('change', (e) => {
                setImages(e.srcElement.value)
            });

            setImages(images[0]);
        </script>
    </body>

</html>
